Prepocessing of the simulation data
-----------------------------------

Structure of data_MVA.root:

*  ROOT file containing a tree named "h";

Branches inside "h":

* "evt"     : event number;

* "primary" : identity of the particle generating the shower (photon=0, electron=1, positron=-1)

* "en_in"   : energy of the particle generating the shower (in keV);

* "en_mis"   : deposited energy inside the detector (in keV);

* "theta"   : theta angle of incidence of the primary particle;

* "phi"     : phi angle of incidence of the primary particle;

* "shower"  : 4D array of dimensions (layers=12,pixel_x=12,pixely=12,1)
  containing the log10-values of the energy deposited by the primary particle in
  each pixel of the detector.

The structure of the branch "shower" is specific for our simulation geometry,
defined in "dataset/data_config_Geant4/geometria.tg".

If you want to change the geometry of the simulation, please see
"dataset/data_config_Geant4/README.rst" and then modify "MVA_processing.C" file in this
folder.
The analysis file needs to be compiled and executed with ROOT package
(https://root.cern/install/)

In order to process the simulation file from Geant4:

* if you already installed ROOT, run in your terminal:

.. code-block bash

  root MVA_processing.C

* alternatively, there will be a .py processing file, so that you'll only need to run:

.. code-block bash

  python MVA_processing.py


A shower example, obtained after MVA processing, is plotted below.
This shower is generated by a [particle] of initial energy [] GeV.

  .. image:: https://raw.githubusercontent.com/Dario-Caf/EM-shower-simulator-with-NN/main/dataset/filtered_data/shower.pdf
    :width: 400
    :alt: Alternative text
